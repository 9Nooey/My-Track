<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìç Tracking </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #eef2f7; font-family: 'Sarabun', sans-serif; }
        .app-container { max-width: 600px; margin: 20px auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        iframe { width: 100%; height: 600px; border: none; border-radius: 10px; margin-top: 15px; background: #fff; }
        .btn-check { background-color: #2c3e50; color: white; }
        .quick-links button { margin: 5px 2px; font-size: 0.8rem; }
    </style>
</head>
<body>

<div class="container">
    <div class="app-container text-center">
        <h3 class="mb-3">üöÇ Tracking</h3>
        
        <div class="input-group mb-3">
            <input type="number" id="trainNo" class="form-control" placeholder="‡πÄ‡∏•‡∏Ç‡∏Ç‡∏ö‡∏ß‡∏ô (‡πÄ‡∏ä‡πà‡∏ô 997)" value="997">
            <button class="btn btn-primary" onclick="searchTrain()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        </div>

        <div class="quick-links mb-3">
            <span class="text-muted small">‡∏Ç‡∏ö‡∏ß‡∏ô‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï: </span>
            <button class="btn btn-outline-secondary btn-sm" onclick="setTrain('997')">997 (‡πÑ‡∏õ)</button>
            <button class="btn btn-outline-secondary btn-sm" onclick="setTrain('998')">998 (‡∏Å‡∏•‡∏±‡∏ö)</button>
            <button class="btn btn-outline-secondary btn-sm" onclick="setTrain('3')">3 (‡∏î‡πà‡∏ß‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©)</button>
        </div>

        <div id="resultArea">
            <div class="alert alert-info">‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏Ç‡∏ö‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
        </div>
    </div>
</div>

<script>
    // --- ‚ö†Ô∏è ‡∏ß‡∏≤‡∏á URL ‡∏Ç‡∏≠‡∏á Google Apps Script ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠ 1 ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ---
    const GAS_URL = "https://script.google.com/macros/s/AKfycbzptWSsqLar351Et-xgLrwIjwWzFsh0NYV4_lzZZ6aaSs3MWud6hkJrlwEAZ1AgKXAZZg/exec"; 

    function setTrain(no) {
        document.getElementById('trainNo').value = no;
        searchTrain();
    }

    function searchTrain() {
        const trainNo = document.getElementById('trainNo').value;
        const resultDiv = document.getElementById('resultArea');
        
        if(!trainNo) return;

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏´‡∏•‡∏î
        resultDiv.innerHTML = '<div class="spinner-border text-primary" role="status"></div><p class="mt-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>';

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå
        const finalUrl = `${GAS_URL}?train=${trainNo}`;

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á Iframe
        setTimeout(() => {
            resultDiv.innerHTML = `<iframe src="${finalUrl}" title="Train Status"></iframe>`;
        }, 500); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÇ‡∏´‡∏•‡∏î
    }
</script>

</body>
</html>
